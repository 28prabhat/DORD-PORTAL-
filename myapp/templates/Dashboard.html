{% extends 'base.html' %}

{% block content %}
<h2 style="text-align: center; font-weight: 600;">Project Dashboard</h2>
<div class="container">
    {% for project in projects %}
    <div class="card">
        <button class="bookmark-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
            </svg>
        </button>
        <h2>{{ project.title }}</h2>
        <h4>{{ project.supervisor }}</h4>
        <div class="tags">
            <a href="#" class="tag">{{ project.tags }}</a>
            <!-- <h5 class="card-title">{{ project.title }}</h5>
                <h6 class="card-subtitle mb-2 text-muted">Supervisor: {{ project.supervisor }}</h6> -->
        </div>
        <p class="card-text"><strong>Country:</strong> {{ project.country }}</p>
        <p class="card-text"><strong>Open to:</strong> {{ project.open_to }}</p>
        <p class="card-text"><strong>Duration:</strong> {{ project.duration }}</p>
        <p class="card-text"><strong>Sponsor:</strong> {{ project.sponsor }}</p>
        <p class="card-text"><strong>Deadline:</strong> {{ project.deadline }}</p>
        <p class="card-text"><strong>Budget:</strong> {{ project.budget }}</p>
        <div class="buttons">
            <a href="#" class="btn">Details</a>
            <a href="{% url 'projectdetail' project_id=project.id %}" class="btn">Apply Now</a>

        </div>
    </div>
    {% endfor %}
</div>


<script>

    // Add functionality to bookmark buttons
    document.querySelectorAll('.bookmark-btn').forEach(btn => {
        btn.addEventListener('click', function () {
            // Toggle fill of the bookmark icon
            const svg = this.querySelector('svg');
            svg.setAttribute('fill', svg.getAttribute('fill') === 'none' ? 'currentColor' : 'none');
            // Here you would also add logic to actually bookmark the project
        });
    });

    // Add functionality to show bookmarked cards and style the Bookmarked Projects tab

    let isBookmarkedTabClicked = false;

    document.querySelector('.item:nth-of-type(3)').addEventListener('click', function () {
        const cards = document.querySelectorAll('.card');

        if (isBookmarkedTabClicked) {
            // Show all cards
            cards.forEach(card => {
                card.style.display = 'block';
            });

            // Reset the Bookmarked Projects tab styling
            this.style.backgroundColor = '';
            isBookmarkedTabClicked = false;
        } else {
            // Show only bookmarked cards
            cards.forEach(card => {
                if (card.querySelector('.bookmark-btn svg').getAttribute('fill') === 'currentColor') {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });

            // Style the Bookmarked Projects tab
            this.style.backgroundColor = '#0277bd';
            isBookmarkedTabClicked = true;
        }
    });
</script>

{% endblock %}

</body>

</html>